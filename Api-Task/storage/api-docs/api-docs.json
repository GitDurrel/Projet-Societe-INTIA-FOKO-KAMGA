{
    "openapi": "3.0.0",
    "info": {
        "title": "API de gestion des clients et assurances",
        "version": "1.0.0",
        "description": "Documentation de l'API pour la gestion des clients et des assurances."
    },
    "paths": {
        "/api/clients": {
            "get": {
                "summary": "Liste des clients",
                "responses": {
                    "200": { "description": "Succès" }
                }
            },
            "post": {
                "summary": "Créer un client",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": ["nom", "prenom", "email"],
                                "properties": {
                                    "nom": { "type": "string", "example": "Dupont" },
                                    "prenom": { "type": "string", "example": "Jean" },
                                    "email": { "type": "string", "example": "jean.dupont@email.com" },
                                    "telephone": { "type": "string", "example": "0601020304" },
                                    "adresse": { "type": "string", "example": "123 rue de Paris" }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": { "description": "Créé" }
                }
            }
        },
        "/api/clients/{id}": {
            "get": {
                "summary": "Afficher un client",
                "parameters": [
                    { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
                ],
                "responses": { "200": { "description": "Succès" } }
            },
            "put": {
                "summary": "Mettre à jour un client",
                "parameters": [
                    { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "nom": { "type": "string", "example": "Durand" },
                                    "prenom": { "type": "string", "example": "Marie" },
                                    "email": { "type": "string", "example": "marie.durand@email.com" },
                                    "telephone": { "type": "string", "example": "0605060708" },
                                    "adresse": { "type": "string", "example": "456 avenue de Lyon" }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": { "200": { "description": "Mis à jour" } }
            },
            "delete": {
                "summary": "Supprimer un client",
                "parameters": [
                    { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
                ],
                "responses": { "204": { "description": "Supprimé" } }
            }
        },
        "/api/assurances": {
            "get": {
                "summary": "Liste des assurances",
                "parameters": [
                    { "name": "type", "in": "query", "required": false, "schema": { "type": "string" } },
                    { "name": "client_id", "in": "query", "required": false, "schema": { "type": "integer" } }
                ],
                "responses": { "200": { "description": "Succès" } }
            },
            "post": {
                "summary": "Créer une assurance",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": ["type", "numero_police", "date_debut", "date_fin", "montant", "client_id"],
                                "properties": {
                                    "type": { "type": "string", "example": "Auto" },
                                    "numero_police": { "type": "string", "example": "POL123456" },
                                    "date_debut": { "type": "string", "format": "date", "example": "2024-06-01" },
                                    "date_fin": { "type": "string", "format": "date", "example": "2025-06-01" },
                                    "montant": { "type": "number", "format": "float", "example": 1200.50 },
                                    "client_id": { "type": "integer", "example": 1 }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": { "201": { "description": "Créée" } }
            }
        },
        "/api/assurances/{id}": {
            "get": {
                "summary": "Afficher une assurance",
                "parameters": [
                    { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
                ],
                "responses": { "200": { "description": "Succès" } }
            },
            "put": {
                "summary": "Mettre à jour une assurance",
                "parameters": [
                    { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "type": { "type": "string", "example": "Habitation" },
                                    "numero_police": { "type": "string", "example": "POL654321" },
                                    "date_debut": { "type": "string", "format": "date", "example": "2024-07-01" },
                                    "date_fin": { "type": "string", "format": "date", "example": "2025-07-01" },
                                    "montant": { "type": "number", "format": "float", "example": 900.00 },
                                    "client_id": { "type": "integer", "example": 2 }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": { "200": { "description": "Mise à jour" } }
            },
            "delete": {
                "summary": "Supprimer une assurance",
                "parameters": [
                    { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
                ],
                "responses": { "204": { "description": "Supprimée" } }
            }
        }
    }
}