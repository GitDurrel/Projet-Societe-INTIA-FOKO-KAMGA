<div class="container">
  <h2>Gestion du personnel</h2>

  <form [formGroup]="personnelForm" (ngSubmit)="soumettre()">
    <div>
      <label>Nom :</label>
      <input formControlName="nom" type="text" placeholder="Nom du personnel" required />
    </div>
    <div>
      <label>Email :</label>
      <input formControlName="email" type="email" placeholder="Email" required />
    </div>
    <div>
      <label>Mot de passe :</label>
      <input formControlName="mot_de_passe" type="password" placeholder="Mot de passe" [required]="!edition" minlength="6" />
    </div>
    <button type="submit" [disabled]="personnelForm.invalid">{{ edition ? 'Modifier' : 'Ajouter' }} le personnel</button>
    <button type="button" *ngIf="edition" (click)="annulerEdition()">Annuler</button>
  </form>

  <div *ngIf="message" class="message">{{ message }}</div>

  <div class="personnels-list">
    <h3>Liste du personnel</h3>
    <ul>
      <li *ngFor="let personnel of personnels">
        <b>{{ getNom(personnel) }}</b> â€” {{ personnel.email }}
        <button (click)="modifier(personnel)">Modifier</button>
        <button (click)="supprimer(personnel.id!)">Supprimer</button>
      </li>
      <li *ngIf="personnels.length === 0">Aucun membre du personnel</li>
    </ul>
  </div>
</div> 